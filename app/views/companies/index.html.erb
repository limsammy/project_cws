<div class="col-sm-12">
  <div class="white-box">
      <h3 class="box-title m-b-0">COMPANIES</h3>
      <p class="text-muted m-b-30"></p>
      <div class="table-responsive">
        <table id="example23" class="display nowrap" cellspacing="0" width="100%">
          <thead>
            <tr>
                <th>Name</th>
                <th>Fax</th>
                <th >View</th>
                <th>Edit</th>
            </tr>
          </thead>
          <tbody>
            <% @companies.each do |product| %>
              <tr>
                  <td><%= product.name %></td>
                  <td><%= product.fax %></td>
                  <td><%= link_to 'Show', product %></td>
                  <td><%= link_to 'Edit', edit_product_path(product) %></td>
              </tr>
            <%end%>
          </tbody>
        </table>
      </div>
  </div>
</div>
<script>
  $(document).ready(function() {
      $('#myTable').DataTable();
      $(document).ready(function() {
          var table = $('#example').DataTable({
              "columnDefs": [{
                  "visible": false,
                  "targets": 2
              }],
              "order": [
                  [2, 'asc']
              ],
              "displayLength": 25,
              "drawCallback": function(settings) {
                  var api = this.api();
                  var rows = api.rows({
                      page: 'current'
                  }).nodes();
                  var last = null;
                  api.column(2, {
                      page: 'current'
                  }).data().each(function(group, i) {
                      if (last !== group) {
                          $(rows).eq(i).before('<tr class="group"><td colspan="5">' + group + '</td></tr>');
                          last = group;
                      }
                  });
              }
          });
          // Order by the grouping
          $('#example tbody').on('click', 'tr.group', function() {
            var currentOrder = table.order()[0];
            if (currentOrder[0] === 2 && currentOrder[1] === 'asc') {
              table.order([2, 'desc']).draw();
            } else {
              table.order([2, 'asc']).draw();
            }
          });
      });
  });
  $('#example23').DataTable({
        dom: 'Bfrtip',
        buttons: [
            'copy', 'csv', 'excel', 'pdf', 'print'
        ]
  });
</script>
    <!--Style Switcher -->
